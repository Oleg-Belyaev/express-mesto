{"version":3,"sources":["images/header-logo.svg","components/Header.js","images/edit-avatar.svg","images/edit-button.svg","images/add-button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogoPath","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onClick","onCardClick","type","onCardLike","length","onCardDelete","Main","useState","editAvatar","setEditAvatar","onEditAvatar","onMouseOver","onMouseOut","avatar","editAvatarPath","onEditProfile","editButtonPath","about","onAddPlace","addButtonPath","cards","map","card","key","Footer","date","Date","getFullYear","ImagePopup","onClose","handleOriginalResponse","res","ok","json","Promise","reject","status","api","options","this","_headers","headers","_url","url","fetch","then","data","method","body","JSON","stringify","id","authorization","PopupWithForm","isOpen","onSubmit","title","children","EditProfilePopup","onUpdateUser","onLoading","setName","description","setDescription","useEffect","e","preventDefault","placeholder","value","onChange","target","EditAvatarPopup","onUpdateAvatar","refAvatar","useRef","current","ref","AddPlacePopup","setLink","DeletePlacePopup","onDeletePlace","cardDelete","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePlacePopupOpen","setIsDeletePlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setCardDelete","isloading","setIsLoading","closeAllPopups","all","getUserInfo","getInitialCards","items","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","userData","editUserInfo","finally","newCardData","createCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.66c9afdb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import headerLogoPath from '../images/header-logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header page__section\">\r\n        <img src={headerLogoPath} alt=\"Логотип\" className=\"header__logo\" />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/edit-avatar.ae1a976d.svg\";","export default __webpack_public_path__ + \"static/media/edit-button.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/add-button.bed8c136.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.owner._id === currentUser._id;\r\n  const isLiked = props.likes.some(item => item._id === currentUser._id);\r\n  const cardDeleteButtonClassName = (`button element__button-remove ${isOwn ? null : 'element__button-remove_hidden'}`);\r\n  const cardLikeButtonClassName = (`button element__button-like ${isLiked ? 'element__button-like_active' : null}`)\r\n\r\n  function handleClick () {\r\n    props.onCardClick(props);\r\n  }\r\n\r\n  function handleLikeClick () {\r\n    props.onCardLike(props);\r\n  }\r\n\r\n  function handleDeleteClick () {\r\n    props.onCardDelete(props);\r\n  }  \r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <img src={props.link} alt={props.name} className=\"element__image\" onClick={handleClick}/>\r\n      <div className=\"element__caption\">\r\n        <p className=\"element__name\">{props.name}</p>\r\n        <div className=\"element__like\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n          <p className=\"element__like-counter\">{props.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport editAvatarPath from '../images/edit-avatar.svg';\r\nimport editButtonPath from '../images/edit-button.svg';\r\nimport addButtonPath from '../images/add-button.svg';\r\nimport Card from '../components/Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main (props) {\r\n  \r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [editAvatar, setEditAvatar] = React.useState(false);\r\n\r\n  function handleAvatarOver () {\r\n    setEditAvatar(true);\r\n  }\r\n\r\n  function handleAvatarOut () {\r\n    setEditAvatar(false);\r\n  }\r\n\r\n  return (\r\n    <main className=\"content page__section\">\r\n      <section className=\"profile content__section\">\r\n        <div className=\"profile__data\">\r\n          <div className=\"profile__avatar\" onClick={props.onEditAvatar} onMouseOver={handleAvatarOver} onMouseOut={handleAvatarOut}>\r\n            <img src={currentUser ? currentUser.avatar : null} alt=\"Фото\" className=\"profile__foto\" />\r\n            <img src={editAvatarPath} alt=\"Карандаш\" className={`profile__avatar-edit ${editAvatar && 'profile__avatar-edit_active'}`} />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__names\">\r\n              <h1 className=\"profile__name\">{currentUser ? currentUser.name : null}</h1>\r\n              <button className=\"button profile__button-edit\" type=\"button\" onClick={props.onEditProfile}>\r\n                <img src={editButtonPath} alt=\"Карандаш\" className=\"button__edit\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"profile__profession\">{currentUser ? currentUser.about : null}</p>\r\n          </div>\r\n        </div>\r\n        <button className=\"button profile__button-add\" type=\"button\" onClick={props.onAddPlace}>\r\n          <img src={addButtonPath} alt=\"Плюс\" className=\"button__add\" />\r\n        </button>\r\n      </section>\r\n      <section className=\"elements content__section content__section_has_indent\">\r\n        {props.cards.map((card) => {\r\n        return <Card {...card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n        }\r\n        )}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;","function Footer () {\r\n  const date = new Date();\r\n  return (\r\n    <footer className=\"footer page__section\">\r\n      <p className=\"footer__copyright\">&copy; {date.getFullYear()}.Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function ImagePopup (props) {\r\n  return (\r\n    <section className={`popup ${props.card && 'popup_opened'}`}>\r\n      <div className=\"popup__overlay\" onClick={props.card ? props.onClose : null}></div>\r\n      <div className=\"popup__imagecontainer\">\r\n        <button className=\"popup__close popup__close_image\" type=\"button\" onClick={props.card ? props.onClose : null}></button>\r\n        <figure className=\"popup__figure\">\r\n          <img className=\"popup__image\" src={props.card ? props.card.link : null} alt={props.card ? props.card.name : null} />\r\n          <figcaption className=\"popup__caption\">{props.card ? props.card.name : null}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","const handleOriginalResponse = (res) => {\r\n  return res.ok ? res.json() : Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n};\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._headers = options.headers;\r\n    this._url = options.url;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers\r\n    })  \r\n    .then(handleOriginalResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers\r\n    })  \r\n    .then(handleOriginalResponse)\r\n  }\r\n\r\n  editUserInfo(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about \r\n      })\r\n    })  \r\n    .then(handleOriginalResponse)\r\n  }\r\n\r\n  createCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link \r\n      })\r\n    })  \r\n    .then(handleOriginalResponse)\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })  \r\n    .then(handleOriginalResponse)\r\n  }\r\n  \r\n  changeLikeCardStatus(id, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n      })  \r\n    .then(handleOriginalResponse)\r\n    } else {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n    method: 'DELETE',\r\n    headers: this._headers,\r\n    })  \r\n    .then(handleOriginalResponse)\r\n    }\r\n  }\r\n\r\n  editAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    })  \r\n    .then(handleOriginalResponse)\r\n  }\r\n}\r\n\r\nconst api = new Api ({\r\n  headers: {\r\n    authorization: 'faa09cc7-7270-48b0-804c-b072edafec63',\r\n    'Content-Type': 'application/json'\r\n  },\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-17'\r\n});\r\n\r\nexport default api;","function PopupWithForm(props) {\r\n  return (\r\n    <section className={`popup ${props.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\r\n      <form className=\"popup__container\" name={props.name} onSubmit={props.onSubmit}>\r\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <fieldset className=\"popup__input-container\">{props.children}</fieldset>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup ({isOpen, onClose, onUpdateUser, onLoading}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  function handleNameChenge(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit (e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser ? currentUser.name : '');\r\n    setDescription(currentUser ? currentUser.about : '');\r\n  },[currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <div className=\"popup__field\">\r\n        <input type=\"text\" className=\"popup__item\" name=\"name\" placeholder=\"Имя Фамилия\" id=\"name-input\" \r\n        value={name} onChange={handleNameChenge}/>\r\n      </div>\r\n      <div className=\"popup__field\">\r\n        <input type=\"text\" className=\"popup__item\" \r\n        name=\"about\" placeholder=\"Профессия\" id=\"about-input\" \r\n        value={description} onChange={handleDescriptionChange}/>\r\n      </div>\r\n  <button type=\"submit\" className=\"popup__submit\" value=\"Сохранить\">{onLoading ? 'Сохранить...' : 'Сохранить'}</button>        \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup ({isOpen, onClose, onUpdateAvatar, onLoading}) {\r\n  const refAvatar = React.useRef('');\r\n\r\n  function handleSubmit (e) {\r\n    e.preventDefault();\r\n\r\n    const avatar = refAvatar.current.value;\r\n    \r\n    onUpdateAvatar({\r\n      avatar\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <div className=\"popup__field\">\r\n        <input type=\"url\" className=\"popup__item\" name=\"link\" placeholder=\"Ссылка на аватар\" id=\"link-input\" ref={refAvatar}/>\r\n      </div>\r\n      <button type=\"submit\" className=\"popup__submit\" value=\"Сохранить\">{onLoading ? 'Сохранить...' : 'Сохранить'}</button>       \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup ({isOpen, onClose, onAddPlace, onLoading}) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChege(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChenge(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit (e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name,\r\n      link\r\n    })\r\n    setName('');\r\n    setLink('');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"card\" title=\"Новое место\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <div className=\"popup__field\">\r\n        <input type=\"text\" className=\"popup__item\" name=\"name\" \r\n        placeholder=\"Название\" id=\"name-input\" value={name} onChange={handleNameChege}/>\r\n      </div>\r\n      <div className=\"popup__field\">\r\n        <input type=\"url\" className=\"popup__item\" name=\"link\" \r\n        placeholder=\"Ссылка на картинку\" id=\"link-input\" value={link} onChange={handleLinkChenge}/>\r\n      </div>\r\n      <button type=\"submit\" className=\"popup__submit\" value=\"Создать\">{onLoading ? 'Создать...' : 'Создать'}</button>        \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeletePlacePopup ({isOpen, onClose, onDeletePlace, cardDelete}) {\r\n\r\n  function handleSubmit (e) {\r\n    e.preventDefault();\r\n    onDeletePlace({cardDelete})\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"delete\" title=\"Вы уверены?\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <button type=\"submit\" className=\"popup__submit popup__submit_delete\" value=\"Да\">Да</button>    \r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default DeletePlacePopup;","import React from 'react';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport api from '../utils/api.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletePlacePopup from './DeletePlacePopup.js';\r\nimport '../index.css';\r\n\r\nfunction App() {\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isDeletePlacePopupOpen, setIsDeletePlacePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState();\r\n  const [currentUser, setCurrentUser] = React.useState();\r\n  const [cards, setCards] = React.useState([]);\r\n  const [cardDelete, setCardDelete] = React.useState();\r\n  const [isloading, setIsLoading] = React.useState(false);\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick (card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleUpdateUser(userData) {\r\n    setIsLoading(true);\r\n    api.editUserInfo(userData)\r\n    .then((data) => {\r\n      setCurrentUser(data);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n    .finally(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setIsLoading(true);\r\n    api.editAvatar(avatar)\r\n    .then((data) => {\r\n      setCurrentUser(data);\r\n      closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n    .finally(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      setCards(newCards);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(cardDelete) {\r\n    setIsDeletePlacePopupOpen(true);\r\n    setCardDelete(cardDelete);\r\n  }\r\n\r\n  function handlePlaceDeleteAccept({cardDelete}) {\r\n    api.deleteCard(cardDelete._id).then(() => {\r\n      const newCards = cards.filter((c) => c._id !== cardDelete._id);\r\n      setCards(newCards);\r\n      closeAllPopups();\r\n    }) \r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newCardData) {\r\n    setIsLoading(true);\r\n    api.createCard(newCardData).then((newCard) => {\r\n    setCards([newCard, ...cards]);\r\n    closeAllPopups();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n    .finally(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsDeletePlacePopupOpen(false);\r\n    setSelectedCard();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([\r\n      api.getUserInfo(),\r\n      api.getInitialCards()\r\n    ]).then(([data, items]) => {\r\n      setCurrentUser(data);\r\n      setCards(items);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} \r\n        onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick}\r\n        cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\r\n        <Footer />\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} onLoading={isloading}/>\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} onLoading={isloading}/>\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} onLoading={isloading}/>\r\n        <DeletePlacePopup isOpen={isDeletePlacePopupOpen} onClose={closeAllPopups} onDeletePlace={handlePlaceDeleteAccept} cardDelete={cardDelete}/>\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}